<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>It's Raining Stats and Dogs - PB</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="It's Raining Stats and Dogs Atom Feed" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">It's Raining Stats and Dogs</a></h1>
                <nav><ul>
                    <li><a href="/pages/about.html">About Me & Introduction</a></li>
                    <li><a href="/pages/free-resources.html">Free Books and Lectures</a></li>
                    <li><a href="/category/programming.html">Programming</a></li>
                    <li><a href="/category/theory.html">Theory</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="/a-bit-of-NHST.html">A Bit About Null Hypothesis Significance Testing (NHST)</a></h1>
<footer class="post-info">
        <abbr class="published" title="2022-02-27T00:00:00-08:00">
                Published: Sun 27 February 2022
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/pb.html">PB</a>
        </address>
<p>In <a href="/category/theory.html">Theory</a>.</p>
<p>tags: <a href="/tag/nhst.html">&#39;NHST&#39;</a> <a href="/tag/sampling-distributions.html">&#39;Sampling Distributions&#39;</a> <a href="/tag/p-values.html">&#39;p-values&#39;</a> </p>
</footer><!-- /.post-info --><h2>Motivation</h2>
<p>Recently at work, this topic has come up related to some experimentation. During the course of the discussions, it became pretty clear that the concepts of <a href="https://en.wikipedia.org/wiki/Statistical_hypothesis_testing">Null Hypothesis Significance Testing</a> (NHST) create a great deal of confusion.  Concepts such as <a href="https://en.wikipedia.org/wiki/P-value">p-values</a>, <a href="https://en.wikipedia.org/wiki/Confidence_interval">Confidence Intervals</a>, <a href="https://en.wikipedia.org/wiki/Type_I_and_type_II_errors">Type I &amp; Type II Errors</a> amongst others are misintrepreted, even by experts in the field. To that end, I am quite certain I'll probably mess up something as well and look forward to the correction. :) </p>
<p>But the discussions today motivated me to put a few notes down about NHST to at least address a few of the core concepts, specifically the notion of a "<a href="https://en.wikipedia.org/wiki/Sampling_distribution">Sampling Distribution</a>" and <strong>p-values</strong>. I'm hoping to address some more advanced aspects including some of the objections to this, Let's get to the math by discussing the problem this is intended to solve.</p>
<h2>The Problem</h2>
<p>At a high-level, the major issue that needs to be solved is that you have data generated by some random process and you want to test your belief about some aspect of this process. For the sake of the example, let's assume that the data, $\mathcal{D}$ we collected are independent observations from a specific probability distribution, $\mathcal{P}$, which is parameterised by $\theta$, i.e. $$\mathcal{D} ={X_{1}, X_{2},\ldots,X_{n}} \stackrel{iid}{\sim} \mathcal{P}_{\theta}$$</p>
<p>Further, we have some belief into the specific value of $\theta$, i.e. we think $\theta = c, c\in\mathbb{R}$. Unfortunately for us, we are dealing with randomness so it's very difficult to make statements along these lines. NHST was created to address this problem!</p>
<h2>NHST Intuition (specifically Fisherian)</h2>
<p>Dealing with randomness makes life complicated, but there is no skirting this problem here. In fact, there may be a way to utilize our understanding of probability to our advantage and quantify our belief in how valid our belif is. For instance, if we had a coin that we somehow <em>knew</em> to be fair and we flipped it 10 times, would we achieve 5 "Heads" exactly everytime? Certainly it would be the most probable single outcome ($P_{n = 10, \theta = 1/2}(X=5) \approx 24\%$), but it is far more likely that you <em>wouldn't</em> get 5 "Heads" when you flip the coin. Yet, some outcomes of 10 flips of a perfectly fair coin seem fairly reasonable (e.g. getting 4 or 6 "Heads") while others would make you suspicious (e.g. getting 0 or 10 "Heads"). Being mathematicians, we always seek to quantify our uncertainty, and the underlying distribution of our sample can provide just that!</p>
<p>Keeping with the coin-flipping analogy, let's pretend that we flipped the coin 10 times and got the following results: $\mathcal{D} ={H, H, T, T, H, H, T, H, H, T}$. We believe that the coin is fair (i.e. $\theta = 1/2$), but is it reasonable to achieve 7 "Heads" in 10 flips with a fair coin? We could see how reasonable this result is by looking at the probability of getting something as extreme <em>or more</em> than what we observed. Put mathematically, we want to find $P_{\theta = 1/2}(\mathrm{#~of~Heads~\geq 7})$. If this probability is small, we would have reason to doubt our belief that the coin is fair. On the other hand, if the probability is large, we would feel more comfortable with our belief; in other words, the result would be fairly consistent with the coin being fair. To find the probability, we need to know the distribution over our sample. If we called flipping a "Head" a "Success", then (if the coin were fair) we know that the number of heads (which we'll define as the random variable "$X$") follows a Binomial distribution: $X\sim\mathcal{Bin}(10, 1/2)$. Then $$P(X \geq 7) \approx 17.2\%.$$
This means there was at least a 17% chance we would observe 7, 8, 9 or 10 "Heads" if the coin were fair. Now is this enough evidence for us to think the coin is unfair? Probably not, though anyone can pick whatever probability they wish! </p>
<p>Now was simple as this example was, we <em>actually</em> just completed a (Fisherian) analysis of our belief into the validity of dealing with a fair coin. Let's start attaching some terminology to what we just did!
* Our <strong>Null Hypothesis</strong> was that the coin was fair. Mathematically, $H_{0}: \theta = 1/2$. Because this was more of the approach taken by <a href="https://en.wikipedia.org/wiki/Ronald_Fisher">Fisher</a> (rather than <a href="https://en.wikipedia.org/wiki/Jerzy_Neyman">Neyman</a> &amp; <a href="https://en.wikipedia.org/wiki/Egon_Pearson">Pearson</a>), we didn't have an <strong>Alternate hypothesis</strong> that we were trying to decide between. In future posts, we'll talk more about this view, but for now, we just focussed on the believability of the Null Hypothesis by itself.
* When we collected our data, we didn't actually care about what flip resulted in what outcome; rather we <em>reduced</em> all the information to a single statistic derived from the sample: the number of "Heads". This is a far more complex topic than I can cover in this post, but we only cared about the distribution of this specific <strong>sample statistic</strong>, rather than the distribution of the entire sample. This may seem overly pedantic, but I promise it's very important. 
* Given our sample statistic, we found the distribution of the <em>sample statistic</em>, known as the <strong>Sample/Sampling Distribution</strong>. This represents the distribution of all possible values we <em>could</em> achieve in the context of our data collection. We'll see in a moment, but the sampling distribution can be very different from the data-generating distribution.
* Finally, when we looked at the probability of getting a sample statistic or something even more extreme, the resulting probability was our <strong>p-value</strong>. This is a very critical point! Very frequently (and as was the case at work), p-values are typically <em>misinterpreted</em> as "the probability that Null Hypothesis is true". In reality, it is the probability of getting the results we had <strong>or</strong> something more extreme <em>if the Null Hypothesis is true</em>. It has nothing to do with the probability of the Null Hypothesis being true. Here the notion of "more extreme" will represent the smallest tail of the distribution and changes based on the sample. In this case, we looked at values greater than or equal to 7. Had we observed 1 "Head", then <em>more extreme</em> would be looking at 0 or 1 "Heads". </p>
<p>So in conclusion, a basic (Fisherian) NHST depends on fixing your Null Hypothesis (what you believe to be true), finding your sample statistic, and then looking at the probability of seeing what was observed or more extreme if the Null were true. That resulting probability is the p-value and can be used to make some decisions about the validity of the belief. </p>
<p>To be clear, this is not the currently taught view of NHST which blends together this approach of Fisher with a decision-theoretic approach utilized by Neyman-Pearson. The current form that is typically taught directly considers an alternative hypothesis, considers the <a href="https://en.wikipedia.org/wiki/Power_of_a_test"><strong>power</strong></a> of the test and the two principal error types (Type I/Type II). These are important topics, but I'm not going to cover them in this post. However, I do want to cover a significant complication related to the use of the Sampling Distribution.</p>
<h2>Conceptual Issues</h2>
<p>We showed that these tests require the use of a sampling distribution. In the above example, this was called out but it probably didn't seem like that big of a deal. But a major problem here (IMO) is that we made a very subtle assumption about how we tried to collect the sample and that this assumption plays a critical role. I said that we flipped a coin 10 times and got 7 "Heads". The implication is that I was going to flip the coin 10 times no matter what, and no matter how many "Heads" I got, I would stop at 10. But this was never clearly stated! We could just have easily decided to flip until we got 3 "Tails" and achieved this on the 10th flip. This very minor change in our goal <em>fundamentally</em> changes the sampling distribution. Specifically, we would no longer have a Binomially distributed sample statistic! Rather, we would have a Negative Binomally distributed sample statistic! These distributions are not the same and can yield totally different p-values under the same set-up.</p>
<p>This is all to say that your intention when you collect your data has a profound impact on your results and this is almost never considered! This doesn't even begin to cover the case if we were going to flip two or more additional coins, where, <em>without even knowing the result of the other flips</em>, you would have totally different p-values just because you <em>intended</em> to flip other coins. This is one of the craziest and most frustrating aspects of this theory in my opinion and in future posts I'll talk about other techniques that stay more closely related to the original data generating process and ignore this problem completely. Until then!</p><p>There are <a href="/a-bit-of-NHST.html#disqus_thread">comments</a>.</p>                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="/intro-to-model-validation-2.html" rel="bookmark"
                           title="Permalink to Introduction to Model Validation - Pt 2">Introduction to Model Validation - Pt 2</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2022-02-23T00:00:00-08:00">
                Published: Wed 23 February 2022
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/pb.html">PB</a>
        </address>
<p>In <a href="/category/programming.html">Programming</a>.</p>
<p>tags: <a href="/tag/python.html">python</a> <a href="/tag/sklearn.html">sklearn</a> <a href="/tag/learning_curves.html">learning_curves</a> <a href="/tag/baseline_models.html">baseline_models</a> <a href="/tag/roc.html">ROC</a> <a href="/tag/auc.html">AUC</a> <a href="/tag/confusion_matrices.html">confusion_matrices</a> </p>
</footer><!-- /.post-info -->                <p>Showing how to perform model validation with classification</p>
                <a class="readmore" href="/intro-to-model-validation-2.html">read more</a>
<p>There are <a href="/intro-to-model-validation-2.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/intro-to-model-validation-1.html" rel="bookmark"
                           title="Permalink to Introduction to Model Validation - Pt 1">Introduction to Model Validation - Pt 1</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2022-02-20T00:00:00-08:00">
                Published: Sun 20 February 2022
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/pb.html">PB</a>
        </address>
<p>In <a href="/category/programming.html">Programming</a>.</p>
<p>tags: <a href="/tag/python.html">python</a> <a href="/tag/sklearn.html">sklearn</a> <a href="/tag/learning_curves.html">learning_curves</a> <a href="/tag/baseline_models.html">baseline_models</a> </p>
</footer><!-- /.post-info -->                <p>Showing how to perform model validation with regression</p>
                <a class="readmore" href="/intro-to-model-validation-1.html">read more</a>
<p>There are <a href="/intro-to-model-validation-1.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/intro-to-sklearn-best-practices.html" rel="bookmark"
                           title="Permalink to Introduction to scikit-learn Best Practices">Introduction to scikit-learn Best Practices</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2022-02-19T00:00:00-08:00">
                Published: Sat 19 February 2022
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/pb.html">PB</a>
        </address>
<p>In <a href="/category/programming.html">Programming</a>.</p>
<p>tags: <a href="/tag/python.html">python</a> <a href="/tag/sklearn.html">sklearn</a> <a href="/tag/gridsearchcv.html">gridsearchcv</a> <a href="/tag/pipelines.html">pipelines</a> </p>
</footer><!-- /.post-info -->                <p>Showing how to integrate gridsearchcv within sklearn pipelines</p>
                <a class="readmore" href="/intro-to-sklearn-best-practices.html">read more</a>
<p>There are <a href="/intro-to-sklearn-best-practices.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
                </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://www.cran.org/">R</a></li>
                            <li><a href="https://julialang.org/">Julia</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="https://scikit-learn.org/stable/">scikit-learn</a></li>
                            <li><a href="https://www.statsmodels.org/stable/index.html">statsmodels</a></li>
                            <li><a href="https://docs.pymc.io/en/v3/">pymc</a></li>
                            <li><a href="https://num.pyro.ai/en/latest/index.html#">numpyro</a></li>
                            <li><a href="https://mc-stan.org/">Stan</a></li>
                            <li><a href="https://www.tidyverse.org/">tidyverse</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a href="https://github.com/RainingStatsAndDogs">Github</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-221548709-2', 'auto');
    ga('send', 'pageview');
    </script>
<script type="text/javascript">
    var disqus_shortname = 'https://rainingstatsanddogs.github.io';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>